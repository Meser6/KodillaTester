DROP TABLE IF EXISTS ISSUES;
DROP TABLE IF EXISTS ISSUESLISTS;

-- TODO: Pls add creation (and prior deletion, if exists) of table USERS
CREATE TABLE ISSUESLISTS
(
	ID SERIAL PRIMARY KEY,
    NAME VARCHAR(1024)
    );

CREATE TABLE ISSUES
(
	ID SERIAL PRIMARY KEY,
	ISSUESLIST_ID BIGINT UNSIGNED NOT NULL,
    SUMMARY VARCHAR(150),
    DESCRIPTION VARCHAR(350),
    USERS_ID_ASSIGNEDTO BIGINT UNSIGNED NOT NULL,
    FOREIGN KEY (ISSUESLIST_ID) REFERENCES ISSUESLISTS(ID),
    FOREIGN KEY (USERS_ID_ASSIGNEDTO) REFERENCES USERS(ID)
    );




INSERT INTO ISSUESLISTS (NAME)
VALUES("ToDo");

INSERT INTO ISSUESLISTS (NAME)
VALUES("In progress");

INSERT INTO ISSUESLISTS (NAME)
VALUES("Done");

COMMIT;



INSERT INTO ISSUES (ISSUESLIST_ID, SUMMARY, DESCRIPTION, USERS_ID_ASSIGNEDTO)
VALUES (1, "FNJA", "JDJASDJKA", 3);

INSERT INTO ISSUES (ISSUESLIST_ID, SUMMARY, DESCRIPTION, USERS_ID_ASSIGNEDTO)
VALUES (2, "FNCZZA", "JDJACZCZ", 2);

INSERT INTO ISSUES (ISSUESLIST_ID, SUMMARY, DESCRIPTION, USERS_ID_ASSIGNEDTO)
VALUES (1, "FNCZA", "JDJCZXCZSDJKA", 3);

INSERT INTO  ISSUES (ISSUESLIST_ID, SUMMARY, DESCRIPTION, USERS_ID_ASSIGNEDTO)
VALUES (3, "NZA", "JDJASDJCZCXKA", 4);

INSERT INTO  ISSUES (ISSUESLIST_ID, SUMMARY, DESCRIPTION, USERS_ID_ASSIGNEDTO)
VALUES (2, "CZXJA", "JDJACZSDJKA", 2);

COMMIT;
